webpackJsonp([10],{lS3u:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("Xxa5"),i=e.n(s),r=e("lHA8"),o=e.n(r),l=e("exGp"),n=e.n(l),d=e("bzuE").BASE_URL,c={data:function(){return{searchSkill:"",searchSchool:"",name:"",username:"",birthdate:"",gender:"",level:"",email:"",country:"",province:"",district:"",ward:"",address:"",school:"",startyear:"",endyear:"",skill:"",professionaltitle:"",password:"",password2:"",provinces:[],districts:[],wards:[],schools:[],majors:[],error:[]}},computed:{filteredSchool:function(){var t=this;return this.schools.filter(function(a){if(-1!=a.name.toLowerCase().indexOf(t.searchSchool.trim().toLowerCase())&&""!=t.searchSchool)return!0})},filteredSkill:function(){var t=this,a=[];return this.majors.forEach(function(e){e.level==t.level&&(a=e.skills.filter(function(a){return-1!=a.toLowerCase().indexOf(t.searchSkill.trim().toLowerCase())&&(""!=t.searchSkill||"Phổ thông"==t.level)}))}),a}},methods:{isValid:function(){return""!=this.username&&(""!=this.name&&(""!=this.birthdate&&(""!=this.gender&&(""!=this.level&&(""!=this.email&&(""!=this.country&&(""!=this.province&&(""!=this.district&&(""!=this.ward&&(""!=this.address&&(""!=this.school&&(""!=this.startyear&&(""!=this.endyear&&(""!=this.skill&&(""!=this.professionaltitle&&(""!=this.password&&(""!=this.password2&&(!(document.getElementsByClassName("is-invalid").length>0)&&this.password==this.password2))))))))))))))))))},handleSubmit:function(t){var a=this;t.preventDefault(),this.isValid()?this.$http.post(d+"/employee/register",{name:this.name,username:this.username,birthdate:this.birthdate,gender:this.gender,level:this.level,school:this.school,startyear:this.startyear,endyear:this.endyear,skill:this.skill,professionaltitle:this.professionaltitle,email:this.email,country:this.country,province:this.province,district:this.district,ward:this.ward,address:this.address,password:this.password,password2:this.password2}).then(function(t){"ok"==t.data?Swal.fire({icon:"success",title:"Đăng ký thành công",text:"Xác minh email để kích hoạt tài khoản",confirmButtonColor:"var(--primary)",confirmButtonText:"Đăng nhập"}).then(function(t){t.value&&a.$router.push("login")}):Swal.fire({icon:"info",title:"Đăng ký thất bại",text:""+t.data[0].msg,confirmButtonColor:"var(--primary)",confirmButtonText:"Nhập lại"})}).catch(function(t){console.error(t.response)}):Swal.fire({icon:"info",title:"Đăng ký thất bại",text:"Vui lòng kiểm tra lại thông tin",confirmButtonColor:"var(--primary)",confirmButtonText:"Nhập lại"})}},created:function(){var t=this;return n()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get(d+"/school/getall").then(function(a){t.schools=a.data}).catch(function(t){console.error(t.response)});case 2:t.$http.get(d+"/province/list").then(function(a){t.province_list=a.data,t.provinces=new o.a(t.province_list.map(function(t){return t.province}))}).catch(function(t){console.error(t.response)}),t.$http.get(d+"/major/list").then(function(a){t.majors=a.data}).catch(function(t){console.error(t.response)});case 4:case"end":return a.stop()}},a,t)}))()},watch:{name:function(t){var a=t.trim();a.includes(" ")&&a.length>1?($("#inputName").addClass("is-valid"),$("#inputName").removeClass("is-invalid")):($("#inputName").addClass("is-invalid"),$("#inputName").removeClass("is-valid"))},username:function(){$("#formPhone").addClass("was-validated")},birthdate:function(){$("#formBirthdate").addClass("was-validated")},gender:function(){$("#formGender").addClass("was-validated")},level:function(){$("#formLevel").addClass("was-validated"),this.skill=""},startyear:function(){$("#formStartyear").addClass("was-validated")},endyear:function(){$("#formEndyear").addClass("was-validated")},professionaltitle:function(){$("#formProfessionaltitle").addClass("was-validated")},email:function(){$("#formEmail").addClass("was-validated")},searchSkill:function(t){t!=this.skill||""==this.skill?$("#dropdownMenuSkill").addClass("is-invalid"):($("#dropdownMenuSkill").addClass("is-valid"),$("#dropdownMenuSkill").removeClass("is-invalid"))},searchSchool:function(t){t!=this.school||""==this.school?$("#dropdownMenuSchool").addClass("is-invalid"):($("#dropdownMenuSchool").addClass("is-valid"),$("#dropdownMenuSchool").removeClass("is-invalid"))},password:function(){$("#formPassword").addClass("was-validated")},password2:function(t){t!=this.password||t.length<6?($("#password2").addClass("is-invalid"),$("#password2").removeClass("is-valid")):($("#password2").addClass("is-valid"),$("#password2").removeClass("is-invalid"))},country:function(t){$("#formCountry").addClass("was-validated")},province:function(t){$("#formProvince").addClass("was-validated"),this.district="",this.districts=new o.a(this.province_list.filter(function(a){return a.province==t}).map(function(t){return t.district}))},district:function(t){$("#formDistrict").addClass("was-validated"),this.ward="",this.wards=new o.a(this.province_list.filter(function(a){return a.district==t}).map(function(t){return t.ward}))},ward:function(){$("#formWard").addClass("was-validated")},address:function(){$("#formAddress").addClass("was-validated")}}},m={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"h-100 bg-dark"},[e("div",{staticClass:"container py-5 h-100"},[e("div",{staticClass:"row d-flex justify-content-center align-items-center h-100"},[e("div",{staticClass:"col"},[e("div",{staticClass:"card card-registration my-4"},[e("div",{staticClass:"row g-0"},[t._m(0),t._v(" "),e("div",{staticClass:"col-xl-6 needs-validation"},[e("div",{staticClass:"card-body p-md-5 text-black"},[e("h3",{staticClass:"mb-5 text-uppercase"},[t._v("Đăng ký tài khoản CVID")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formName"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{id:"inputName",type:"text",required:"",placeholder:"Họ và tên"},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Họ và tên")])])]),t._v(" "),e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formPhone"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"number",min:"99999999",max:"9999999999",required:"",placeholder:"Số điện thoại"},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Số điện thoại")])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formBirthdate"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.birthdate,expression:"birthdate"}],staticClass:"form-control",attrs:{type:"date",required:"",max:(new Date).toISOString().substr(0,10)},domProps:{value:t.birthdate},on:{input:function(a){a.target.composing||(t.birthdate=a.target.value)}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Ngày, tháng, năm sinh")])])]),t._v(" "),e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formGender"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"form-select",attrs:{required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.gender=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Chọn giới tính")]),t._v(" "),e("option",{attrs:{value:"Nam"}},[t._v("Nam")]),t._v(" "),e("option",{attrs:{value:"Nữ"}},[t._v("Nữ")]),t._v(" "),e("option",{attrs:{value:"Khác"}},[t._v("Khác")])]),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Giới tính")])])]),t._v(" "),t._e(),t._v(" "),e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formProvince"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.province,expression:"province"}],staticClass:"form-select",attrs:{required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.province=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Chọn tỉnh/thành phố")]),t._v(" "),t._l(t.provinces,function(a){return e("option",{domProps:{value:a}},[t._v("\n                          "+t._s(a)+"\n                        ")])})],2),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Tỉnh/Thành phố")])])]),t._v(" "),e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formDistrict"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.district,expression:"district"}],staticClass:"form-select",attrs:{required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.district=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Chọn quận/huyện")]),t._v(" "),t._l(t.districts,function(a){return e("option",{domProps:{value:a}},[t._v("\n                          "+t._s(a)+"\n                        ")])})],2),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Quận/Huyện")])])]),t._v(" "),e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formWard"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.ward,expression:"ward"}],staticClass:"form-select",attrs:{required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.ward=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Chọn phường/xã")]),t._v(" "),t._l(t.wards,function(a){return e("option",{domProps:{value:a}},[t._v("\n                          "+t._s(a)+"\n                        ")])})],2),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Phường/Xã")])])]),t._v(" "),e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formAddress"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{type:"text",required:"",placeholder:"Số điện thoại"},domProps:{value:t.address},on:{input:function(a){a.target.composing||(t.address=a.target.value)}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Địa chỉ")])])])]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formLevel"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.level,expression:"level"}],staticClass:"form-select",attrs:{required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.level=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Chọn cấp bậc")]),t._v(" "),e("option",{attrs:{value:"Phổ thông"}},[t._v("Phổ thông")]),t._v(" "),e("option",{attrs:{value:"Sơ cấp"}},[t._v("Sơ cấp")]),t._v(" "),e("option",{attrs:{value:"Trung cấp"}},[t._v("Trung cấp")]),t._v(" "),e("option",{attrs:{value:"Cao đẳng"}},[t._v("Cao đẳng")]),t._v(" "),e("option",{attrs:{value:"Đại học"}},[t._v("Đại học")]),t._v(" "),e("option",{attrs:{value:"Chuyên gia"}},[t._v("Chuyên gia")])]),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Cấp bậc")])])]),t._v(" "),"Phổ thông"!=t.level&&"Sơ cấp"!=t.level?e("div",{staticClass:"mb-3"},[e("div",{staticClass:"form-floating"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchSchool,expression:"searchSchool"}],staticClass:"form-select dropdown-toggle text-dark w-100",attrs:{type:"text",id:"dropdownMenuSchool","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false",placeholder:"Tìm kiếm"},domProps:{value:t.searchSchool},on:{input:function(a){a.target.composing||(t.searchSchool=a.target.value)}}}),t._v(" "),e("ul",{staticClass:"dropdown-menu overflow-auto w-100",style:{maxHeight:"300px"},attrs:{"aria-labelledby":"dropdownMenuSchool"}},t._l(t.filteredSchool,function(a){return e("li",{on:{click:function(e){t.school=a.name,t.searchSchool=a.name}}},[e("a",{staticClass:"dropdown-item"},[t._v(t._s(a.name))])])}),0),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"searchSchool"}},[t._v("Trường")])])]):t._e(),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formSkill"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchSkill,expression:"searchSkill"}],staticClass:"form-select dropdown-toggle text-dark w-100",attrs:{type:"text",id:"dropdownMenuSkill","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false",placeholder:"Tìm kiếm"},domProps:{value:t.searchSkill},on:{input:function(a){a.target.composing||(t.searchSkill=a.target.value)}}}),t._v(" "),e("ul",{staticClass:"dropdown-menu overflow-auto w-100",style:{maxHeight:"300px"},attrs:{"aria-labelledby":"dropdownMenuSkill"}},t._l(t.filteredSkill,function(a){return e("li",{key:a,on:{click:function(e){t.skill=a,t.searchSkill=a}}},[e("a",{staticClass:"dropdown-item"},[t._v(t._s(a))])])}),0),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Chuyên nghành")])])]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formProfessionaltitle"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.professionaltitle,expression:"professionaltitle"}],staticClass:"form-control",attrs:{type:"text",required:"",placeholder:"Chức danh chuyên môn"},domProps:{value:t.professionaltitle},on:{input:function(a){a.target.composing||(t.professionaltitle=a.target.value)}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Chức danh chuyên môn")])])]),t._v(" "),"Phổ thông"!=t.level&&"Sơ cấp"!=t.level?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formStartyear"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.startyear,expression:"startyear"}],staticClass:"form-control",attrs:{type:"month",placeholder:"yyyy-mm",required:""},domProps:{value:t.startyear},on:{input:function(a){a.target.composing||(t.startyear=a.target.value)}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Năm bắt đầu")])])]),t._v(" "),e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formEndyear"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.endyear,expression:"endyear"}],staticClass:"form-control",attrs:{type:"month",required:"",placeholder:"yyyy-mm"},domProps:{value:t.endyear},on:{input:function(a){a.target.composing||(t.endyear=a.target.value)}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Năm tốt nghiệp")])])])]):t._e(),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formEmail"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",required:"",placeholder:"Email"},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Email")])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formPassword"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",minlength:"6",required:"",placeholder:"Mật khẩu"},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Mật khẩu")])])]),t._v(" "),e("div",{staticClass:"col-md-6 mb-3"},[e("div",{staticClass:"form-floating",attrs:{id:"formPassword2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"form-control",attrs:{id:"password2",type:"password",minlength:"6",required:"",placeholder:"Mật khẩu"},domProps:{value:t.password2},on:{input:function(a){a.target.composing||(t.password2=a.target.value)}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Nhập lại mật khẩu")])])])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-end pt-3"},[e("button",{staticClass:"btn btn-primary btn-lg ms-2",attrs:{type:"button"},on:{click:t.handleSubmit}},[t._v("\n                    Đăng ký\n                  ")])])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-xl-6 d-none d-xl-block"},[a("img",{staticClass:"img-fluid",staticStyle:{"border-top-left-radius":"0.25rem","border-bottom-left-radius":"0.25rem"},attrs:{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/img4.webp",alt:"Sample photo"}})])}]},v=e("VU/8")(c,m,!1,null,null,null);a.default=v.exports}});
//# sourceMappingURL=10.f51f9fe243623ed17d67.js.map