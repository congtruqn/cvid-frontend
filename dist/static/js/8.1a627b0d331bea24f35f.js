webpackJsonp([8],{lS3u:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),i=a("lHA8"),o=a.n(i),l=a("exGp"),n=a.n(l),d=a("bzuE").BASE_URL,c={data:function(){return{searchSkill:"",searchSchool:"",name:"",username:"",birthdate:"",gender:"",level:"",email:"",country:"",province:"",district:"",ward:"",address:"",school:"",startyear:"",endyear:"",skill:"",professionaltitle:"",password:"",password2:"",provinces:[],districts:[],wards:[],schools:[],majors:[],error:[]}},computed:{filteredSchool:function(){var t=this;return this.schools.filter(function(e){if(-1!=e.name.toLowerCase().indexOf(t.searchSchool.trim().toLowerCase())&&""!=t.searchSchool)return!0})},filteredSkill:function(){var t=this,e=[];return this.majors.forEach(function(a){a.level==t.level&&(e=a.skills.filter(function(e){return-1!=e.toLowerCase().indexOf(t.searchSkill.trim().toLowerCase())&&(""!=t.searchSkill||"Phổ thông"==t.level)}))}),e}},methods:{isValid:function(){return this.error=[],""==this.name&&this.error.push("Chưa nhập họ và tên!"),""==this.username&&this.error.push("Chưa nhập số điện thoại!"),this.username.length<9&&this.error.push("Số điện thoại không hợp lệ!"),""==this.email&&this.error.push("Chưa nhập email!"),""==this.birthdate&&this.error.push("Chưa nhập ngày, tháng, năm sinh!"),""==this.gender&&this.error.push("Chưa nhập giới tính!"),""==this.province&&this.error.push("Chưa nhập Tỉnh/Thành phố!"),""==this.district&&this.error.push("Chưa nhập Quận/Huyện!"),""==this.ward&&this.error.push("Chưa nhập Phường/Xã!"),""==this.address&&this.error.push("Chưa nhập địa chỉ!"),""==this.level&&this.error.push("Chưa nhập cấp bậc!"),""==this.skill&&this.error.push("Chưa nhập chuyên nghành!"),""==this.professionaltitle&&this.error.push("Chưa nhập chức danh chuyên môn!"),""==this.password&&this.error.push("Chưa nhập mật khẩu!"),this.password.length<6&&this.error.push("Mật khẩu tối thiểu 6 kí tự!"),this.password2!=this.password&&this.error.push("Mật khẩu nhập lại không khớp!"),!(this.error.length>0)},handleSubmit:function(t){var e=this;t.preventDefault(),this.isValid()?this.$http.post(d+"/employee/register",{name:this.name,username:this.username,birthdate:this.birthdate,gender:this.gender,level:this.level,school:this.school,startyear:this.startyear,endyear:this.endyear,skill:this.skill,professionaltitle:this.professionaltitle,email:this.email,country:this.country,province:this.province,district:this.district,ward:this.ward,address:this.address,password:this.password,password2:this.password2}).then(function(t){"ok"==t.data?Swal.fire({icon:"success",title:"Đăng kí thành công",text:"Xác minh email để kích hoạt tài khoản",confirmButtonColor:"var(--primary)",confirmButtonText:"Đăng nhập"}).then(function(t){t.value&&e.$router.push("login")}):Swal.fire({icon:"info",title:"Đăng kí thất bại",text:""+t.data[0].msg,confirmButtonColor:"var(--primary)",confirmButtonText:"Nhập lại"})}).catch(function(t){console.error(t.response)}):Swal.fire({icon:"info",title:"Đăng kí thất bại",text:this.error[0],confirmButtonColor:"var(--primary)",confirmButtonText:"Nhập lại"})}},created:function(){var t=this;return n()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(d+"/school/getall").then(function(e){t.schools=e.data}).catch(function(t){console.error(t.response)});case 2:t.$http.get(d+"/province/list").then(function(e){t.province_list=e.data,t.provinces=new o.a(t.province_list.map(function(t){return t.province}))}).catch(function(t){console.error(t.response)}),t.$http.get(d+"/major/list").then(function(e){t.majors=e.data}).catch(function(t){console.error(t.response)});case 4:case"end":return e.stop()}},e,t)}))()},watch:{name:function(t){$("#formName").addClass("was-validated")},username:function(){$("#formPhone").addClass("was-validated")},birthdate:function(){$("#formBirthdate").addClass("was-validated")},gender:function(){$("#formGender").addClass("was-validated")},level:function(){$("#formLevel").addClass("was-validated"),this.skill=""},startyear:function(){$("#formStartyear").addClass("was-validated")},endyear:function(){$("#formEndyear").addClass("was-validated")},professionaltitle:function(){$("#formProfessionaltitle").addClass("was-validated")},email:function(){$("#formEmail").addClass("was-validated")},searchSkill:function(t){t!=this.skill||""==this.skill?$("#dropdownMenuSkill").addClass("is-invalid"):($("#dropdownMenuSkill").addClass("is-valid"),$("#dropdownMenuSkill").removeClass("is-invalid"))},searchSchool:function(t){t!=this.school||""==this.school?$("#dropdownMenuSchool").addClass("is-invalid"):($("#dropdownMenuSchool").addClass("is-valid"),$("#dropdownMenuSchool").removeClass("is-invalid"))},password:function(){$("#formPassword").addClass("was-validated")},password2:function(t){t!=this.password||t.length<6?($("#password2").addClass("is-invalid"),$("#password2").removeClass("is-valid")):($("#password2").addClass("is-valid"),$("#password2").removeClass("is-invalid"))},country:function(t){$("#formCountry").addClass("was-validated")},province:function(t){$("#formProvince").addClass("was-validated"),this.district="",this.districts=new o.a(this.province_list.filter(function(e){return e.province==t}).map(function(t){return t.district}))},district:function(t){$("#formDistrict").addClass("was-validated"),this.ward="",this.wards=new o.a(this.province_list.filter(function(e){return e.district==t}).map(function(t){return t.ward}))},ward:function(){$("#formWard").addClass("was-validated")},address:function(){$("#formAddress").addClass("was-validated")}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"h-100 bg-dark"},[a("div",{staticClass:"container py-5 h-100"},[a("div",{staticClass:"row d-flex justify-content-center align-items-center h-100"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card card-registration my-4"},[a("div",{staticClass:"row g-0"},[t._m(0),t._v(" "),a("div",{staticClass:"col-xl-6 needs-validation"},[a("div",{staticClass:"card-body p-md-5 text-black"},[a("h3",{staticClass:"mb-5 text-uppercase"},[t._v("Đăng kí tài khoản CVID")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formName"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",required:"",placeholder:"Họ và tên"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Họ và tên")])])]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formPhone"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"number",min:"99999999",required:"",placeholder:"Số điện thoại"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Số điện thoại")])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formBirthdate"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.birthdate,expression:"birthdate"}],staticClass:"form-control",attrs:{type:"date",required:"",max:(new Date).toISOString().substr(0,10)},domProps:{value:t.birthdate},on:{input:function(e){e.target.composing||(t.birthdate=e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Ngày, tháng, năm sinh")])])]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formGender"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.gender=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Chọn giới tính")]),t._v(" "),a("option",{attrs:{value:"Nam"}},[t._v("Nam")]),t._v(" "),a("option",{attrs:{value:"Nữ"}},[t._v("Nữ")]),t._v(" "),a("option",{attrs:{value:"Khác"}},[t._v("Khác")])]),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Giới tính")])])]),t._v(" "),t._e(),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formProvince"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.province,expression:"province"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.province=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Chọn tỉnh/thành phố")]),t._v(" "),t._l(t.provinces,function(e){return a("option",{domProps:{value:e}},[t._v("\n                          "+t._s(e)+"\n                        ")])})],2),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Tỉnh/Thành phố")])])]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formDistrict"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.district,expression:"district"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.district=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Chọn quận/huyện")]),t._v(" "),t._l(t.districts,function(e){return a("option",{domProps:{value:e}},[t._v("\n                          "+t._s(e)+"\n                        ")])})],2),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Quận/Huyện")])])]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formWard"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.ward,expression:"ward"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.ward=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Chọn phường/xã")]),t._v(" "),t._l(t.wards,function(e){return a("option",{domProps:{value:e}},[t._v("\n                          "+t._s(e)+"\n                        ")])})],2),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Phường/Xã")])])]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formAddress"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{type:"text",required:"",placeholder:"Số điện thoại"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Địa chỉ")])])])]),t._v(" "),a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formLevel"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.level,expression:"level"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.level=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Chọn cấp bậc")]),t._v(" "),a("option",{attrs:{value:"Phổ thông"}},[t._v("Phổ thông")]),t._v(" "),a("option",{attrs:{value:"Sơ cấp"}},[t._v("Sơ cấp")]),t._v(" "),a("option",{attrs:{value:"Trung cấp"}},[t._v("Trung cấp")]),t._v(" "),a("option",{attrs:{value:"Cao đẳng"}},[t._v("Cao đẳng")]),t._v(" "),a("option",{attrs:{value:"Đại học"}},[t._v("Đại học")]),t._v(" "),a("option",{attrs:{value:"Chuyên gia"}},[t._v("Chuyên gia")])]),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Cấp bậc")])])]),t._v(" "),"Phổ thông"!=t.level&&"Sơ cấp"!=t.level?a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchSchool,expression:"searchSchool"}],staticClass:"form-select dropdown-toggle text-dark w-100",attrs:{type:"text",id:"dropdownMenuSchool","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false",placeholder:"Tìm kiếm"},domProps:{value:t.searchSchool},on:{input:function(e){e.target.composing||(t.searchSchool=e.target.value)}}}),t._v(" "),a("ul",{staticClass:"dropdown-menu overflow-auto w-100",style:{maxHeight:"300px"},attrs:{"aria-labelledby":"dropdownMenuSchool"}},t._l(t.filteredSchool,function(e){return a("li",{on:{click:function(a){t.school=e.name,t.searchSchool=e.name}}},[a("a",{staticClass:"dropdown-item"},[t._v(t._s(e.name))])])}),0),t._v(" "),a("label",{staticClass:"form-label",attrs:{for:"searchSchool"}},[t._v("Trường")])])]):t._e(),t._v(" "),a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formSkill"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchSkill,expression:"searchSkill"}],staticClass:"form-select dropdown-toggle text-dark w-100",attrs:{type:"text",id:"dropdownMenuSkill","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false",placeholder:"Tìm kiếm"},domProps:{value:t.searchSkill},on:{input:function(e){e.target.composing||(t.searchSkill=e.target.value)}}}),t._v(" "),a("ul",{staticClass:"dropdown-menu overflow-auto w-100",style:{maxHeight:"300px"},attrs:{"aria-labelledby":"dropdownMenuSkill"}},t._l(t.filteredSkill,function(e){return a("li",{on:{click:function(a){t.skill=e,t.searchSkill=e}}},[a("a",{staticClass:"dropdown-item"},[t._v(t._s(e))])])}),0),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Chuyên nghành")])])]),t._v(" "),a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formProfessionaltitle"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.professionaltitle,expression:"professionaltitle"}],staticClass:"form-control",attrs:{type:"text",required:"",placeholder:"Chức danh chuyên môn"},domProps:{value:t.professionaltitle},on:{input:function(e){e.target.composing||(t.professionaltitle=e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Chức danh chuyên môn")])])]),t._v(" "),"Phổ thông"!=t.level&&"Sơ cấp"!=t.level?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formStartyear"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startyear,expression:"startyear"}],staticClass:"form-control",attrs:{type:"month",placeholder:"yyyy-mm",required:""},domProps:{value:t.startyear},on:{input:function(e){e.target.composing||(t.startyear=e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Năm bắt đầu")])])]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formEndyear"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.endyear,expression:"endyear"}],staticClass:"form-control",attrs:{type:"month",required:"",placeholder:"yyyy-mm"},domProps:{value:t.endyear},on:{input:function(e){e.target.composing||(t.endyear=e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Năm tốt nghiệp")])])])]):t._e(),t._v(" "),a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formEmail"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",required:"",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Email")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formPassword"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",minlength:"6",required:"",placeholder:"Mật khẩu"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Mật khẩu")])])]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"form-floating",attrs:{id:"formPassword2"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"form-control",attrs:{id:"password2",type:"password",minlength:"6",required:"",placeholder:"Mật khẩu"},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Nhập lại mật khẩu")])])])]),t._v(" "),a("div",{staticClass:"d-flex justify-content-end pt-3"},[a("button",{staticClass:"btn btn-primary btn-lg ms-2",attrs:{type:"button"},on:{click:t.handleSubmit}},[t._v("\n                  Đăng kí\n                ")])])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-xl-6 d-none d-xl-block"},[e("img",{staticClass:"img-fluid",staticStyle:{"border-top-left-radius":"0.25rem","border-bottom-left-radius":"0.25rem"},attrs:{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/img4.webp",alt:"Sample photo"}})])}]},u=a("VU/8")(c,m,!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=8.1a627b0d331bea24f35f.js.map