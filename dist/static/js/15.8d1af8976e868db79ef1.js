webpackJsonp([15],{"2xYL":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("lHA8"),i=s.n(a),r=s("Xxa5"),n=s.n(r),o=s("exGp"),l=s.n(o),d=s("bzuE").BASE_URL,c={data:function(){return{type:"5",name:"",username:"",phone:"",manager:"",position:"",country:"Việt Nam",province:"",district:"",major:"",ward:"",address:"",type_business:"",industry:[],image:null,email:"",password:"",password2:"",province_list:[],type_businesses:[],industries:[],provinces:[],districts:[],wards:[],error:[]}},methods:{getBusiness:function(){var t=this;if(""==this.username)return this.name="",this.province="",this.district="",this.ward="",void(this.address="");this.$http.post(d+"/business/getinfo",{mst:this.username}).then(function(e){var s=document.createElement("div");if(s.innerHTML=e.data,0==(s=s.getElementsByClassName("search-results")).length)t.name="",t.province="",t.district="",t.ward="",t.address="";else{t.name=s[0].getElementsByTagName("a")[0].innerHTML;var a=s[0].getElementsByTagName("p")[0].innerHTML;t.username=s[0].getElementsByTagName("p")[0].getElementsByTagName("a")[0].innerHTML,t.address="",(a=a.split("Địa chỉ:")[1].trim().split(", ").reverse()).forEach(function(e,s){0==s?t.province=e:1==s?t.district=e:2==s?t.ward=e:t.address=e+" "+t.address})}}).catch(function(t){console.log(t)})},onFileUpload:function(t){var e,s=this,a=t.target.files[0],i=new FileReader;i.readAsDataURL(a),i.onload=(e=l()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.target.result;case 2:s.image=t.sent;case 3:case"end":return t.stop()}},t,s)})),function(t){return e.apply(this,arguments)})},isValid:function(){return this.error=[],""==this.name&&this.error.push("Chưa nhập họ và tên!"),""==this.username&&this.error.push("Chưa nhập mã số thuế!"),""==this.email&&this.error.push("Chưa nhập email!"),""==this.gender&&this.error.push("Chưa nhập giới tính!"),""==this.province&&this.error.push("Chưa nhập Tỉnh/Thành phố!"),""==this.district&&this.error.push("Chưa nhập Quận/Huyện!"),""==this.ward&&this.error.push("Chưa nhập Phường/Xã!"),""==this.address&&this.error.push("Chưa nhập địa chỉ!"),""==this.professionaltitle&&this.error.push("Chưa nhập chức danh chuyên môn!"),""==this.password&&this.error.push("Chưa nhập mật khẩu!"),this.password.length<6&&this.error.push("Mật khẩu tối thiểu 6 kí tự!"),this.password2!=this.password&&this.error.push("Mật khẩu nhập lại không khớp!"),null==this.image&&this.error.push("Chưa chọn giấy phép kinh doanh!"),!(this.error.length>0)},handleSubmit:function(t){var e=this;console.log(this.email),t.preventDefault(),this.isValid()?this.$http.post(d+"/business/register",{type:this.type,name:this.name,image:this.image,phone:this.phone,manager:this.manager,position:this.position,username:this.username,type_business:this.type_business,majors:this.major,country:this.country,province:this.province,district:this.district,ward:this.ward,address:this.address,email:this.email,industries:this.industry,password:this.password,password2:this.password2}).then(function(t){"ok"==t.data?Swal.fire({icon:"success",title:"Đăng ký thành công",text:"Bạn có thể đăng nhập ngay bây giờ",confirmButtonColor:"var(--primary)",confirmButtonText:"Đăng nhập"}).then(function(t){t.value&&e.$router.push("/business/login")}):Swal.fire({icon:"info",title:"Đăng ký thất bại",text:""+t.data[0].msg,confirmButtonColor:"var(--primary)",confirmButtonText:"Nhập lại"})}).catch(function(t){console.error(t.response)}):Swal.fire({icon:"info",title:"Đăng ký thất bại",text:this.error[0],confirmButtonColor:"var(--primary)",confirmButtonText:"Nhập lại"})}},created:function(){var t=this;this.$http.get(d+"/province/list").then(function(e){t.province_list=e.data,t.provinces=new i.a(t.province_list.map(function(t){return t.province}))}).catch(function(t){console.error(t.response)}),this.$http.get(d+"/industry/getall").then(function(e){t.industries=e.data}).catch(function(t){console.error(t.response)}),this.$http.get(d+"/typebusiness/getall").then(function(e){t.type_businesses=e.data}).catch(function(t){console.error(t.response)})},watch:{name:function(t){$("#formName").addClass("was-validated")},username:function(){$("#formPhone").addClass("was-validated")},password:function(){$("#formPassword").addClass("was-validated")},password2:function(t){t!=this.password||t.length<6?($("#password2").addClass("is-invalid"),$("#password2").removeClass("is-valid")):($("#password2").addClass("is-valid"),$("#password2").removeClass("is-invalid"))},country:function(t){$("#formCountry").addClass("was-validated")},province:function(t){$("#formProvince").addClass("was-validated"),5!=this.type&&(this.district="",this.districts=new i.a(this.province_list.filter(function(e){return e.province==t}).map(function(t){return t.district})))},district:function(t){$("#formDistrict").addClass("was-validated"),5!=this.type&&(this.ward="",this.wards=new i.a(this.province_list.filter(function(e){return e.district==t}).map(function(t){return t.ward})))},ward:function(){$("#formWard").addClass("was-validated")},address:function(){$("#formAddress").addClass("was-validated")},FILE:function(){$("#formFile").addClass("was-validated")}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"h-100 bg-dark"},[s("div",{staticClass:"container py-5 h-100"},[s("div",{staticClass:"row d-flex justify-content-center align-items-center h-100"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card card-registration my-4"},[s("div",{staticClass:"row g-0"},[t._m(0),t._v(" "),s("div",{staticClass:"col-xl-6 needs-validation"},[s("div",{staticClass:"card-body p-md-5 text-black"},[s("h3",{staticClass:"mb-5 text-uppercase"},[t._v("\n                  Đăng ký tài khoản tuyển dụng\n                ")]),t._v(" "),t._e(),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:""}},[t._v("\n                      Chọn loại hình tuyển dụng\n                    ")]),t._v(" "),s("option",{attrs:{value:"6"}},[t._v("Cá nhân")]),t._v(" "),s("option",{attrs:{value:"5"}},[t._v("Doanh nghiệp")])]),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Loại hình tuyển dụng")])]),t._v(" "),5==t.type?s("div",[s("div",{staticClass:"mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.manager,expression:"manager"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.manager},on:{input:function(e){e.target.composing||(t.manager=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Người đại diện")])]),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Số điện thoại")])]),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.position,expression:"position"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.position},on:{input:function(e){e.target.composing||(t.position=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Chức vụ")])]),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Email")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"form-floating",attrs:{id:"formPassword"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",required:"",minlength:"6"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Mật khẩu")])])]),t._v(" "),s("div",{staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"form-control",attrs:{type:"password",minlength:"6",required:""},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Nhập lại mật khẩu")])])])]),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.type_business,expression:"type_business"}],staticClass:"form-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type_business=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:""}},[t._v("\n                        Chọn loại hình doanh nghiệp\n                      ")]),t._v(" "),t._l(t.type_businesses,function(e,a){return s("option",{domProps:{value:e.name}},[t._v("\n                        "+t._s(e.name)+"\n                      ")])})],2),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Loại hình")])]),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("input",{staticClass:"form-control dropdown-toggle",attrs:{type:"text",id:"dropdownMenuField","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},domProps:{value:t.industry.toString().replaceAll(",",", ")}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Lĩnh vực kinh doanh")]),t._v(" "),s("ul",{staticClass:"dropdown-menu w-100",attrs:{"aria-labelledby":"dropdownMenuField"}},t._l(t.industries,function(e,a){return s("div",{key:a,staticClass:"form-check mx-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.industry,expression:"industry"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"industry"+a},domProps:{value:e.name,checked:Array.isArray(t.industry)?t._i(t.industry,e.name)>-1:t.industry},on:{change:function(s){var a=t.industry,i=s.target,r=!!i.checked;if(Array.isArray(a)){var n=e.name,o=t._i(a,n);i.checked?o<0&&(t.industry=a.concat([n])):o>-1&&(t.industry=a.slice(0,o).concat(a.slice(o+1)))}else t.industry=r}}}),t._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"industry"+a}},[t._v("\n                          "+t._s(e.name)+"\n                        ")])])}),0)]),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:t.username},on:{blur:t.getBusiness,input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Mã số thuế")])]),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Tên doanh nghiệp")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.province,expression:"province"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.province},on:{input:function(e){e.target.composing||(t.province=e.target.value)}}}),t._v(" "),s("label",{staticClass:"ms-2 form-label"},[t._v("Tỉnh/Thành phố")])]),t._v(" "),s("div",{staticClass:"col-md-6 mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.district,expression:"district"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.district},on:{input:function(e){e.target.composing||(t.district=e.target.value)}}}),t._v(" "),s("label",{staticClass:"ms-2 form-label"},[t._v("Chọn quận/huyện")])]),t._v(" "),s("div",{staticClass:"col-md-6 mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ward,expression:"ward"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.ward},on:{input:function(e){e.target.composing||(t.ward=e.target.value)}}}),t._v(" "),s("label",{staticClass:"ms-2 form-label"},[t._v("Chọn phường/xã")])]),t._v(" "),s("div",{staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"form-floating",attrs:{id:"formAddress"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Số và tên đường")])])])]),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.major,expression:"major"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.major},on:{input:function(e){e.target.composing||(t.major=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Nghành nghề kinh doanhh chính")])]),t._v(" "),s("div",{staticClass:"mb-4 form-floating",attrs:{id:"formFile"}},[s("input",{staticClass:"form-control",attrs:{type:"file",id:"file-upload",accept:"image/*",required:""},on:{change:t.onFileUpload}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Giấy phép kinh doanh")])])]):s("div",[s("div",{staticClass:"mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Số điện thoại")])]),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Họ và tên")])]),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"form-floating"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.province,expression:"province"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.province=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:""}},[t._v("\n                            Chọn tỉnh/thành phố\n                          ")]),t._v(" "),t._l(t.provinces,function(e){return s("option",{domProps:{value:e}},[t._v("\n                            "+t._s(e)+"\n                          ")])})],2),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Tỉnh/Thành phố")])])]),t._v(" "),s("div",{staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"form-floating"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.district,expression:"district"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.district=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:""}},[t._v("Chọn quận/huyện")]),t._v(" "),t._l(t.districts,function(e){return s("option",{domProps:{value:e}},[t._v("\n                            "+t._s(e)+"\n                          ")])})],2),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Quận/Huyện")])])]),t._v(" "),s("div",{staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"form-floating"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.ward,expression:"ward"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.ward=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:""}},[t._v("Chọn phường/xã")]),t._v(" "),t._l(t.wards,function(e){return s("option",{domProps:{value:e}},[t._v("\n                            "+t._s(e)+"\n                          ")])})],2),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Phường/Xã")])])]),t._v(" "),s("div",{staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"form-floating",attrs:{id:"formAddress"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Địa chỉ doanh nghiệp")])])])]),t._v(" "),s("div",{staticClass:"mb-4 form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Email")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",required:"",minlength:"6"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Mật khẩu")])])]),t._v(" "),s("div",{staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"form-floating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"form-control",attrs:{type:"password",minlength:"6",required:""},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}}),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Nhập lại mật khẩu")])])])])]),t._v(" "),s("div",{staticClass:"d-flex justify-content-end pt-3"},[s("button",{staticClass:"btn btn-primary btn-lg ms-2",attrs:{type:"button"},on:{click:t.handleSubmit}},[t._v("\n                    Đăng ký\n                  ")])])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-xl-6 d-none d-xl-block"},[e("img",{staticClass:"img-fluid",staticStyle:{"border-top-left-radius":"0.25rem","border-bottom-left-radius":"0.25rem"},attrs:{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/img4.webp",alt:"Sample photo"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-4 form-floating"},[s("select",{staticClass:"form-select",attrs:{required:""}},[s("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("\n                        Chọn loại hình\n                      ")]),t._v(" "),s("option",{attrs:{value:"Việt Na"}},[t._v("Hiệp hội")]),t._v(" "),s("option",{attrs:{value:"Việt N"}},[t._v("Cửa hàng")]),t._v(" "),s("option",{attrs:{value:""}},[t._v("Hộ kinh doanh cá thể")])]),t._v(" "),s("label",{staticClass:"form-label"},[t._v("Loại hình")])])}]},u=s("VU/8")(c,m,!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=15.8d1af8976e868db79ef1.js.map